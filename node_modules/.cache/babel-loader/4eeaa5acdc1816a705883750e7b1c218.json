{"ast":null,"code":"var _jsxFileName = \"D:\\\\Information System\\\\info6250\\\\project\\\\meetup-app\\\\src\\\\components\\\\LoginPage.jsx\";\nimport React, { useState } from 'react';\nimport { fetchLoginPage, fetchMeetupList } from '../services/services';\n\nconst LoginPage = ({\n  onLogin,\n  isRegistered\n}) => {\n  const [username, setUserSate] = useState('');\n\n  const implementLogin = () => {\n    console.log(\"implement login\", username);\n\n    if (!username) {\n      onLogin('', {}, {}, 'USERNAME_MANDATORY');\n      return;\n    }\n\n    fetchLoginPage(username).then(details => {\n      setUserSate('');\n      fetchMeetupList(details.username).then(meetup => {\n        onLogin(details.username, meetup.createdMeetups, meetup.invitedMeetups, '');\n      }).catch(error => {\n        onLogin('', {}, {}, error.code);\n      });\n    }).catch(error => {\n      setUserSate('');\n      onLogin('', {}, {}, error.code);\n    });\n  };\n\n  const register = e => {\n    e.preventDefault();\n    isRegistered();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"login-username\",\n    value: username,\n    placeholder: \"Enter firstname+lastname\",\n    onChange: e => setUserSate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"login-button\",\n    onClick: implementLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"register-account\",\n    href: \"https://meetup.com\",\n    title: \"Click for Meetup Detail\",\n    onClick: e => register(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, \"New User? Register Now!!\"));\n};\n\nexport default LoginPage;","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/components/LoginPage.jsx"],"names":["React","useState","fetchLoginPage","fetchMeetupList","LoginPage","onLogin","isRegistered","username","setUserSate","implementLogin","console","log","then","details","meetup","createdMeetups","invitedMeetups","catch","error","code","register","e","preventDefault","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,cAAT,EAAyBC,eAAzB,QAAgD,sBAAhD;;AAEA,MAAMC,SAAS,GAAG,CAAC;AAACC,EAAAA,OAAD;AAASC,EAAAA;AAAT,CAAD,KAA4B;AAE1C,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BP,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMQ,cAAc,GAAG,MAAM;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA8BJ,QAA9B;;AACA,QAAG,CAACA,QAAJ,EAAc;AACnBF,MAAAA,OAAO,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,oBAAb,CAAP;AACA;AACA;;AACDH,IAAAA,cAAc,CAACK,QAAD,CAAd,CACCK,IADD,CACOC,OAAD,IAAa;AAClBL,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAL,MAAAA,eAAe,CAACU,OAAO,CAACN,QAAT,CAAf,CACCK,IADD,CACOE,MAAD,IAAY;AACjBT,QAAAA,OAAO,CAACQ,OAAO,CAACN,QAAT,EAAmBO,MAAM,CAACC,cAA1B,EAA0CD,MAAM,CAACE,cAAjD,EAAiE,EAAjE,CAAP;AACA,OAHD,EAICC,KAJD,CAIQC,KAAD,IAAW;AACjBb,QAAAA,OAAO,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAaa,KAAK,CAACC,IAAnB,CAAP;AACA,OAND;AAOA,KAVD,EAWCF,KAXD,CAWSC,KAAD,IAAW;AAClBV,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAH,MAAAA,OAAO,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAaa,KAAK,CAACC,IAAnB,CAAP;AACA,KAdD;AAeG,GArBD;;AAuBA,QAAMC,QAAQ,GAAIC,CAAD,IAAO;AAEpBA,IAAAA,CAAC,CAACC,cAAF;AACNhB,IAAAA,YAAY;AACT,GAJD;;AAMA,sBACI;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAO,IAAA,SAAS,EAAC,gBAAjB;AAAkC,IAAA,KAAK,EAAEC,QAAzC;AAAmD,IAAA,WAAW,EAAC,0BAA/D;AAA0F,IAAA,QAAQ,EAAGc,CAAD,IAAOb,WAAW,CAACa,CAAC,CAACE,MAAF,CAASC,KAAV,CAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI;AAAQ,IAAA,SAAS,EAAC,cAAlB;AAAiC,IAAA,OAAO,EAAGf,cAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,eAGI;AACE,IAAA,SAAS,EAAC,kBADZ;AAEE,IAAA,IAAI,EAAC,oBAFP;AAGE,IAAA,KAAK,EAAC,yBAHR;AAIE,IAAA,OAAO,EAAGY,CAAD,IAAOD,QAAQ,CAACC,CAAD,CAJ1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHJ,CADJ;AAeH,CAhDD;;AAkDA,eAAejB,SAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { fetchLoginPage, fetchMeetupList } from '../services/services';\r\n\r\nconst LoginPage = ({onLogin,isRegistered}) => {\r\n\r\n    const [username, setUserSate] = useState('');\r\n\r\n    const implementLogin = () => {\r\n        console.log(\"implement login\",username)\r\n        if(!username) {\r\n\t\t\tonLogin('', {}, {}, 'USERNAME_MANDATORY');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tfetchLoginPage(username)\r\n\t\t.then((details) => {\r\n\t\t\tsetUserSate('');\r\n\t\t\tfetchMeetupList(details.username)\r\n\t\t\t.then((meetup) => {\r\n\t\t\t\tonLogin(details.username, meetup.createdMeetups, meetup.invitedMeetups, '');\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tonLogin('', {}, {}, error.code );\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch( (error) => {\r\n\t\t\tsetUserSate('');\r\n\t\t\tonLogin('', {}, {}, error.code );\r\n\t\t});\r\n    };\r\n\r\n    const register = (e) => {\r\n\r\n        e.preventDefault();\r\n\t\tisRegistered();\r\n    };\r\n\r\n    return(\r\n        <div className=\"login-container\">\r\n            <input className=\"login-username\" value={username} placeholder=\"Enter firstname+lastname\" onChange={(e) => setUserSate(e.target.value)}/>\r\n            <button className=\"login-button\" onClick={ implementLogin }>Login</button>\r\n            <a\r\n              className=\"register-account\"\r\n              href=\"https://meetup.com\"\r\n              title=\"Click for Meetup Detail\"\r\n              onClick={(e) => register(e)}\r\n            >\r\n            New User? Register Now!!\r\n            </a>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default LoginPage;"]},"metadata":{},"sourceType":"module"}