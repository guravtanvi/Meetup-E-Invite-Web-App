{"ast":null,"code":"import _slicedToArray from\"D:\\\\Information System\\\\info6250\\\\project\\\\meetup-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{fetchUpdateMeetup,fetchMeetupList,fetchMeetupForUser}from'../services/services';var UpdateMeetup=function UpdateMeetup(_ref){var state=_ref.state,meetup=_ref.meetup,users=_ref.users,onHome=_ref.onHome,onDetails=_ref.onDetails;var _useState=useState(meetup.title),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setMeetupTitle=_useState2[1];var _useState3=useState(meetup.place),_useState4=_slicedToArray(_useState3,2),place=_useState4[0],setMeetupPlace=_useState4[1];var _useState5=useState(meetup.date),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setMeetupDate=_useState6[1];var _useState7=useState(meetup.time),_useState8=_slicedToArray(_useState7,2),time=_useState8[0],setMeetupTime=_useState8[1];var _useState9=useState(meetup.agenda),_useState10=_slicedToArray(_useState9,2),agenda=_useState10[0],setMeetupAgenda=_useState10[1];var userList=Object.keys(users);var selectedMembers=[];var implementUserAction=function implementUserAction(){var members=document.querySelector('#members');if(userList.length>1){selectedMembers=[].filter.call(members.options,function(option){return option.selected;}).map(function(option){return option.text;});}fetchUpdateMeetup(title,meetup.meetupId,state.username,place,date,time,agenda,selectedMembers).then(function(meetup){fetchMeetupForUser(meetup.meetupId).then(function(meetup){onDetails(meetup,'');}).catch(function(error){onDetails({},error.code);});}).catch(function(error){onDetails({},error.code);});};var getMeetups=function getMeetups(e){e.preventDefault();fetchMeetupList(state.username).then(function(meetups){onHome(meetups.createdMeetups,meetups.invitedMeetups,'');}).catch(function(error){onHome([],[],error.code);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"update-meetup-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"link-back-home\"},/*#__PURE__*/React.createElement(\"a\",{className:\"back-home\",href:\"https://meetup.com\",title:\"Click to go back Home\",onClick:function onClick(e){return getMeetups(e);}},\"Back Home\")),/*#__PURE__*/React.createElement(\"div\",{className:\"new-meetup-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-title\"},/*#__PURE__*/React.createElement(\"p\",{className:\"heading-title\"},\"Meetup Title\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"new-meetup-title\",id:\"title\",value:title,onChange:function onChange(e){return setMeetupTitle(e.target.value);},name:\"title\",rows:\"2\",cols:\"50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-date\"},/*#__PURE__*/React.createElement(\"p\",{className:\"heading-title\"},\"Meetup Date\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"new-meetup-date\",id:\"date\",value:date,onChange:function onChange(e){return setMeetupDate(e.target.value);},name:\"date\",rows:\"2\",cols:\"50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-time\"},/*#__PURE__*/React.createElement(\"p\",{className:\"heading-title\"},\"Meetup Time\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"new-meetup-time\",id:\"time\",value:time,onChange:function onChange(e){return setMeetupTime(e.target.value);},name:\"time\",rows:\"2\",cols:\"50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-place\"},/*#__PURE__*/React.createElement(\"p\",{className:\"heading-title\"},\"Meetup Place\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"new-meetup-place\",id:\"place\",value:place,onChange:function onChange(e){return setMeetupPlace(e.target.value);},name:\"place\",rows:\"2\",cols:\"50\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-agenda\"},/*#__PURE__*/React.createElement(\"p\",{className:\"heading-title\"},\"Meetup Agenda\"),/*#__PURE__*/React.createElement(\"textarea\",{className:\"new-meetup-agenda\",id:\"agenda\",value:agenda,onChange:function onChange(e){return setMeetupAgenda(e.target.value);},name:\"agenda\",rows:\"2\",cols:\"150\"})),userList.length<=1?/*#__PURE__*/React.createElement(\"p\",null,\"Oops! No members found!! Update Event and come back later to add members!!\"):/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"p\",{className:\"instructions\"},\" Press hold Ctrl/Command button for selecting multiple members\"),/*#__PURE__*/React.createElement(\"div\",{className:\"select-users\"},/*#__PURE__*/React.createElement(\"label\",{className:\"select-users\"},\"Invite Members for Meetup:\"),/*#__PURE__*/React.createElement(\"select\",{className:\"filter-list\",id:\"members\",multiple:true,size:\"users.length\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true,hidden:true}),Object.values(users).filter(function(user){return user.username!==state.username;}).map(function(user,key){return/*#__PURE__*/React.createElement(\"option\",{key:key,value:user.username},user.username);}))))),/*#__PURE__*/React.createElement(\"button\",{className:\"submit-button\",type:\"submit\",onClick:implementUserAction},\"Submit\"));};export default UpdateMeetup;","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/components/UpdateMeetup.jsx"],"names":["React","useState","fetchUpdateMeetup","fetchMeetupList","fetchMeetupForUser","UpdateMeetup","state","meetup","users","onHome","onDetails","title","setMeetupTitle","place","setMeetupPlace","date","setMeetupDate","time","setMeetupTime","agenda","setMeetupAgenda","userList","Object","keys","selectedMembers","implementUserAction","members","document","querySelector","length","filter","call","options","option","selected","map","text","meetupId","username","then","catch","error","code","getMeetups","e","preventDefault","meetups","createdMeetups","invitedMeetups","target","value","values","user","key"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { fetchUpdateMeetup, fetchMeetupList, fetchMeetupForUser} from '../services/services';\r\n\r\n\r\nconst UpdateMeetup = ({state, meetup, users, onHome, onDetails}) => {\r\n\r\n    const [title, setMeetupTitle] = useState(meetup.title);\r\n    const [place, setMeetupPlace] = useState(meetup.place);\r\n    const [date, setMeetupDate] = useState(meetup.date);\r\n    const [time, setMeetupTime] = useState(meetup.time);\r\n    const [agenda, setMeetupAgenda] = useState(meetup.agenda);\r\n\r\n    const userList = Object.keys(users);\r\n    let selectedMembers = [];\r\n\r\n    const implementUserAction = () => {\r\n\r\n        const members = document.querySelector('#members');\r\n\r\n        if (userList.length > 1) {\r\n            selectedMembers = [].filter\r\n              .call(members.options, (option) => option.selected)\r\n              .map((option) => option.text);\r\n        }\r\n        fetchUpdateMeetup(title, meetup.meetupId, state.username, place,\r\n            date, time, agenda, selectedMembers)\r\n        .then((meetup) => {\r\n            fetchMeetupForUser(meetup.meetupId)\r\n            .then((meetup) => {\r\n                onDetails(meetup, '');\r\n            })\r\n            .catch((error) => {\r\n                onDetails({}, error.code);\r\n            });\r\n        })\r\n        .catch((error) => {\r\n            onDetails({}, error.code);\r\n        });\r\n    };\r\n\r\n    const getMeetups = (e) => {\r\n        e.preventDefault();\r\n        fetchMeetupList(state.username)\r\n\t\t.then((meetups) => {\r\n\t\t\tonHome(meetups.createdMeetups, meetups.invitedMeetups, '');\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tonHome([], [], error.code);\r\n\t\t});\r\n    };\r\n\r\n    return (\r\n        <div className=\"update-meetup-container\">\r\n\r\n            <div className=\"link-back-home\">\r\n                <a\r\n                  className=\"back-home\"\r\n                  href=\"https://meetup.com\"\r\n                  title=\"Click to go back Home\"\r\n                  onClick={(e) => getMeetups(e)}>\r\n                  Back Home\r\n                </a>\r\n            </div>\r\n\r\n            <div className=\"new-meetup-page\">\r\n                <div className=\"meetup-title\">\r\n                    <p className=\"heading-title\">Meetup Title</p>\r\n                    <textarea className=\"new-meetup-title\" id=\"title\" value={title} onChange={e => setMeetupTitle(e.target.value)} name=\"title\" rows=\"2\" cols=\"50\"></textarea>\r\n                </div>\r\n\r\n                <div className=\"meetup-date\">\r\n                    <p className=\"heading-title\">Meetup Date</p>\r\n                    <textarea className=\"new-meetup-date\" id=\"date\" value={date} onChange={e => setMeetupDate(e.target.value)} name=\"date\" rows=\"2\" cols=\"50\"></textarea>\r\n                </div>\r\n\r\n                <div className=\"meetup-time\">\r\n                    <p className=\"heading-title\">Meetup Time</p>\r\n                    <textarea className=\"new-meetup-time\" id=\"time\" value={time} onChange={e => setMeetupTime(e.target.value)} name=\"time\" rows=\"2\" cols=\"50\"></textarea>\r\n                </div>\r\n\r\n                <div className=\"meetup-place\">\r\n                    <p className=\"heading-title\">Meetup Place</p>\r\n                    <textarea className=\"new-meetup-place\" id=\"place\" value={place} onChange={e => setMeetupPlace(e.target.value)} name=\"place\" rows=\"2\" cols=\"50\"></textarea>\r\n                </div>\r\n\r\n                <div className=\"meetup-agenda\">\r\n                    <p className=\"heading-title\">Meetup Agenda</p>\r\n                    <textarea className=\"new-meetup-agenda\" id=\"agenda\" value={agenda} onChange={e => setMeetupAgenda(e.target.value)} name=\"agenda\" rows=\"2\" cols=\"150\"></textarea>\r\n                </div>\r\n\r\n                { userList.length <= 1 ? <p>Oops! No members found!! Update Event and come back later to add members!!</p> :\r\n                <div>\r\n                    <p className=\"instructions\"> Press hold Ctrl/Command button for selecting multiple members</p>\r\n                    <div className=\"select-users\">\r\n                        <label className=\"select-users\">Invite Members for Meetup:</label>\r\n                        <select className=\"filter-list\" id=\"members\" multiple size=\"users.length\">\r\n                        <option value='' disabled hidden></option>\r\n                        { Object.values(users)\r\n                            .filter((user) => user.username !== state.username)\r\n                            .map((user, key) => (\r\n                              <option key={key} value={user.username}>\r\n                                {user.username}\r\n                              </option>\r\n                            ))\r\n                        }\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div>\r\n\r\n            <button className=\"submit-button\" type=\"submit\" onClick={implementUserAction}>\r\n              Submit\r\n            </button>\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default UpdateMeetup;"]},"metadata":{},"sourceType":"module"}