{"ast":null,"code":"var _jsxFileName = \"D:\\\\Information System\\\\info6250\\\\project\\\\meetup-app\\\\src\\\\components\\\\InvitedMeetup.jsx\";\nimport React, { useState } from 'react';\nimport { fetchMeetupForUser, fetchUpdateFeedback, fetchRemoveInvitedMeetup, fetchMeetupList } from '../services/services'; //import meetup from '../../server/meetup';\n\nconst InvitedMeetup = ({\n  state,\n  details,\n  update\n}) => {\n  const [feedback, setFeedbackState] = useState('');\n  console.log(\"okkkkk\", state);\n\n  const feedbackAction = (e, meetupId) => {\n    e.preventDefault();\n    console.log(\"feedback submit \", meetupId);\n\n    if (!feedback) {\n      update([], [], 'Please Select a Feedback!');\n    }\n\n    if (feedback) {\n      fetchMeetupForUser(meetupId).then(() => {\n        fetchUpdateFeedback(state.username, feedback, meetupId).then(meetup => {\n          setFeedbackState('');\n          update(meetup.createdMeetups, meetup.invitedMeetups, '');\n        }).catch(error => {\n          setFeedbackState('');\n          update([], [], error.code);\n        });\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }\n  };\n\n  const meetupDetails = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(meetup => {\n      details(meetup, '');\n    }).catch(err => {\n      details({}, err.code);\n    });\n  };\n\n  const implementRemoveMeetup = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(() => {\n      fetchRemoveInvitedMeetup(state.username, meetupId).then(() => {\n        fetchMeetupList(state.username).then(meetup => {\n          update(meetup.createdMeetups, meetup.invitedMeetups, '');\n        }).catch(error => {\n          update([], [], error.code);\n        });\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }).catch(error => {\n      update([], [], error.code);\n    });\n  };\n\n  const implementUpdateFeedback = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(() => {\n      fetchMeetupList(state.username).then(meetup => {\n        Object.values(meetup.invitedMeetups).filter(meet => meet.meet.meetupId === meetupId).map(meet => meet.isGoing = '');\n        update(meetup.createdMeetups, meetup.invitedMeetups, '');\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }).catch(error => {\n      update([], [], error.code);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invited-meetup-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meetup-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, \"My Invited Meetups\")), console.log(\"inv\", state.invitedMeetups), state.invitedMeetups.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"empty-meetups\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"You have no invited meetups yet!!\") : /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"meetups\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, Object.values(state.invitedMeetups).map((invited, key) => /*#__PURE__*/React.createElement(\"li\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meetup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 29\n    }\n  }, console.log(\"Invited id \", invited), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://meetup1.com\",\n    title: \"Click for Meetup Details\",\n    onClick: e => meetupDetails(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 37\n    }\n  }, invited.meetup.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-host\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 33\n    }\n  }, \"Host:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 37\n    }\n  }, invited.meetup.host)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-place\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 33\n    }\n  }, \"Place:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 37\n    }\n  }, invited.meetup.place)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  }, \"Date:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 37\n    }\n  }, invited.meetup.date)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  }, \"Time:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 37\n    }\n  }, invited.meetup.time)), invited.isGoing === '' ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feedback-btn\",\n    onChange: e => setFeedbackState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"feedback-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 37\n    }\n  }, \"Attending:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"Yes\",\n    name: \"feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 37\n    }\n  }), \" Yes\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"No\",\n    name: \"feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 37\n    }\n  }), \" No\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feedback-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-feedback-button\",\n    onClick: e => feedbackAction(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 37\n    }\n  }, \"Send Feedback\"))) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"responded-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"responded-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 37\n    }\n  }, \"-- Attending Event: \", invited.meetup.isGoing, \" --\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update-feedback-button\",\n    onClick: e => implementUpdateFeedback(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 37\n    }\n  }, \"Update Feedback\")), invited.isGoing === '' ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"response-buttons\",\n    onChange: e => setFeedbackState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"response-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 37\n    }\n  }, \"Select here to respond:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"yes\",\n    name: \"response\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 37\n    }\n  }), \" Yes\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"no\",\n    name: \"response\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 37\n    }\n  }), \" No\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"response-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-response-button\",\n    onClick: e => feedbackAction(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 37\n    }\n  }, \"Send Response\"))) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"responded-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"responded-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, \"*Responded \", invited.meetup.isGoing, \" to this event*\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update-response-button\",\n    onClick: e => implementUpdateFeedback(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 37\n    }\n  }, \"Update Response\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-event-button\",\n    onClick: e => implementRemoveMeetup(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, \"Delete Meetup\")))))));\n};\n\nexport default InvitedMeetup;","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/components/InvitedMeetup.jsx"],"names":["React","useState","fetchMeetupForUser","fetchUpdateFeedback","fetchRemoveInvitedMeetup","fetchMeetupList","InvitedMeetup","state","details","update","feedback","setFeedbackState","console","log","feedbackAction","e","meetupId","preventDefault","then","username","meetup","createdMeetups","invitedMeetups","catch","error","code","meetupDetails","err","implementRemoveMeetup","implementUpdateFeedback","Object","values","filter","meet","map","isGoing","length","invited","key","title","host","place","date","time","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { fetchMeetupForUser, fetchUpdateFeedback, fetchRemoveInvitedMeetup, fetchMeetupList } from '../services/services';\r\n//import meetup from '../../server/meetup';\r\n\r\nconst InvitedMeetup = ({state, details, update}) => {\r\n\r\n    const [feedback, setFeedbackState] = useState('');\r\n\r\n\r\n    console.log(\"okkkkk\",state);\r\n\r\n\r\n    const feedbackAction = (e, meetupId) => {\r\n        e.preventDefault();\r\n        console.log(\"feedback submit \",meetupId);\r\n        if(!feedback) {\r\n            update([], [], 'Please Select a Feedback!');\r\n        }\r\n        if(feedback) {\r\n            fetchMeetupForUser(meetupId)\r\n            .then(() => {\r\n                fetchUpdateFeedback(state.username, feedback, meetupId)\r\n                .then((meetup) => {\r\n                    setFeedbackState('');\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n                })\r\n                .catch((error) => {\r\n                    setFeedbackState('');\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        }\r\n    };\r\n    \r\n    const meetupDetails = (e, meetupId) => {\r\n\r\n        e.preventDefault();\r\n\t\tfetchMeetupForUser(meetupId)\r\n\t\t.then((meetup) => {\r\n\t\t\tdetails(meetup, '');\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tdetails({}, err.code);\r\n\t\t});\r\n    };\r\n    \r\n    const implementRemoveMeetup = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchRemoveInvitedMeetup(state.username, meetupId)\r\n            .then(() => {\r\n                fetchMeetupList(state.username)\r\n                .then((meetup) => {\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups,'');\r\n                })\r\n                .catch((error) => {\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    const implementUpdateFeedback = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchMeetupList(state.username)\r\n            .then((meetup) => {\r\n                Object.values(meetup.invitedMeetups)\r\n                .filter(meet => meet.meet.meetupId === meetupId)\r\n                .map( (meet) => (meet.isGoing = ''));\r\n                update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"invited-meetup-container\">\r\n            <div className=\"meetup-heading\">\r\n                <p>My Invited Meetups</p>\r\n            </div>\r\n            {console.log(\"inv\",state.invitedMeetups)}\r\n            {(state.invitedMeetups.length === 0) ?\r\n                <p className=\"empty-meetups\">You have no invited meetups yet!!</p> :\r\n                <ul className=\"meetups\">\r\n                    {Object.values(state.invitedMeetups).map( (invited,key) => (\r\n                         \r\n                        <li key={key}>\r\n                            <div className=\"meetup\">\r\n                                {console.log(\"Invited id \",invited)}\r\n                                <div>\r\n                                    <a href=\"https://meetup1.com\" \r\n                                    title=\"Click for Meetup Details\" \r\n                                    onClick={(e) => meetupDetails(e, invited.meetup.meetupId)}>{invited.meetup.title}\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-host\">\r\n                                    Host:{' '}\r\n                                    <span>{invited.meetup.host}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-place\">\r\n                                    Place:{' '}\r\n                                    <span>{invited.meetup.place}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-date\">\r\n                                    Date:{' '}\r\n                                    <span>{invited.meetup.date}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-time\">\r\n                                    Time:{' '}\r\n                                    <span>{invited.meetup.time}</span>\r\n                                </div>\r\n\r\n                                {(invited.isGoing === '') ?\r\n\r\n                                <span>\r\n                                <div className=\"feedback-btn\" onChange={e => setFeedbackState(e.target.value)}>\r\n                                    <p className=\"feedback-header\">Attending:</p>\r\n                                    <input type=\"radio\" value=\"Yes\" name=\"feedback\"/> Yes\r\n                                    <input type=\"radio\" value=\"No\" name=\"feedback\"/> No\r\n                                </div>\r\n\r\n                                <div className=\"feedback-button\">\r\n                                    <button className=\"submit-feedback-button\" onClick={e => feedbackAction(e, invited.meetup.meetupId) }>Send Feedback</button>\r\n                                </div>\r\n                                </span>:\r\n\r\n                                <span className=\"responded-block\">\r\n                                    <p className=\"responded-message\">-- Attending Event: {invited.meetup.isGoing} --</p>\r\n                                    <button className=\"update-feedback-button\" onClick={e => implementUpdateFeedback(e, invited.meetup.meetupId)}>Update Feedback</button>\r\n                                </span>}\r\n\r\n\r\n\r\n                                {(invited.isGoing === '')?\r\n                                <span>\r\n                                <div className=\"response-buttons\" onChange={e => setFeedbackState(e.target.value)}>\r\n                                    <p className=\"response-heading\">Select here to respond:</p>\r\n                                    <input type=\"radio\" value=\"yes\" name=\"response\"/> Yes\r\n                                    <input type=\"radio\" value=\"no\" name=\"response\"/> No\r\n                                </div>\r\n                                <div className=\"response-button\">\r\n                                    <button className=\"submit-response-button\" onClick={e => feedbackAction(e, invited.meetup.meetupId) }>Send Response</button>\r\n                                </div>\r\n                                </span>:\r\n                                <span className=\"responded-block\">\r\n                                    <p className=\"responded-message\">*Responded {invited.meetup.isGoing} to this event*</p>\r\n                                    <button className=\"update-response-button\" onClick={e => implementUpdateFeedback(e, invited.meetup.meetupId)}>Update Response</button>\r\n                                </span>}\r\n\r\n\r\n\r\n                                <div className=\"delete-event\">\r\n                                    <button className=\"delete-event-button\" onClick={e => implementRemoveMeetup(e, invited.meetup.meetupId)}>Delete Meetup</button>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default InvitedMeetup;"]},"metadata":{},"sourceType":"module"}