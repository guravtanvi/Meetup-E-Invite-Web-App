{"ast":null,"code":"// const { findRenderedDOMComponentWithTag } = require(\"react-dom/test-utils\");\n// const { response } = require(\"express\");\n// const { json, response } = require(\"express\");\nconst convertErrorCodes = err => Promise.reject(err);\n\nconst fetchLoginPageStatus = () => {\n  return fetch('/session', {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n/*\r\nconst fetchLoginPage = (username) => {\r\n    console.log(\"fetch login\",username);\r\n    return fetch('/session', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify({ username })\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n}*/\n\n\nconst fetchRegistrationPage = (username, firstName, lastName) => {\n  return fetch('/registration', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username,\n      firstName,\n      lastName\n    })\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchLoginPage = username => {\n  console.log(\"fetch new login\", username);\n  return fetch('/session', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify({\n      username\n    })\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchMeetupList = username => {\n  return fetch(`/meetups/${username}`, {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json.then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchMeetupForUser = meetupId => {\n  return fetch(`/meetup/${meetupId}`, {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchLogout = () => {\n  console.log(\"logout \");\n  return fetch('/session', {\n    method: 'DELETE'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.ok;\n  });\n};\n\nconst fetchValidUsers = () => {\n  return fetch('/users', {\n    method: 'GET'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchDeleteRegistration = () => {\n  return fetch('/registration', {\n    method: 'DELETE'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.ok;\n  });\n};\n\nconst fetchCreateMeetupPage = (title, host, place, date, time, agenda, members) => {\n  const meetup = {\n    title: title,\n    agenda: agenda,\n    date: date,\n    time: time,\n    place: place,\n    host: host,\n    members: members\n  };\n  return fetch('/meetup', {\n    method: 'POST',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify(meetup)\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchUpdateMeetup = (title, id, host, place, date, time, agenda, members) => {\n  const meetup = {\n    title: title,\n    meetupId: id,\n    host: host,\n    place: place,\n    date: date,\n    time: time,\n    agenda: agenda,\n    members: members\n  };\n  console.log(meetup);\n  return fetch('/meetup', {\n    method: 'PUT',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify(meetup)\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n/*\r\nconst fetchCreateMeetupPage = (title, agenda, date, time, place, host, members) => {\r\n    const meetup = {\r\n        title: title,\r\n        agenda: agenda,\r\n        date: date,\r\n        time: time,\r\n        place: place,\r\n        host: host,\r\n        members: members\r\n    };\r\n\r\n    console.log(\"fetch meetup\",meetup);\r\n    return fetch('/tanvi', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify({meetup})\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n*/\n\n\nconst fetchUpdateFeedback = (username, isAttending, meetupId) => {\n  const feedback = {\n    username: username,\n    isAttending: isAttending,\n    meetupId: meetupId\n  };\n  return fetch('/response', {\n    method: 'PUT',\n    headers: new Headers({\n      'content-type': 'application/json'\n    }),\n    body: JSON.stringify(feedback)\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.json();\n  });\n};\n\nconst fetchRemoveCreatedMeetup = meetupId => {\n  return fetch(`/meetup/${meetupId}`, {\n    method: 'DELETE'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.ok;\n  });\n};\n\nconst fetchRemoveInvitedMeetup = (username, meetupId) => {\n  return fetch(`/${username}/meetup/${meetupId}`, {\n    method: 'DELETE'\n  }).catch(() => {\n    return Promise.reject({\n      code: 'NETWORK_ERROR'\n    });\n  }).then(response => {\n    if (!response.ok) {\n      return response.json().then(convertErrorCodes);\n    }\n\n    return response.ok;\n  });\n};\n\nmodule.exports = {\n  fetchLoginPageStatus,\n  fetchRegistrationPage,\n  fetchLoginPage,\n  fetchMeetupList,\n  fetchMeetupForUser,\n  fetchValidUsers,\n  fetchCreateMeetupPage,\n  fetchUpdateMeetup,\n  fetchUpdateFeedback,\n  fetchRemoveCreatedMeetup,\n  fetchRemoveInvitedMeetup,\n  fetchLogout,\n  fetchDeleteRegistration\n};","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/services/services.js"],"names":["convertErrorCodes","err","Promise","reject","fetchLoginPageStatus","fetch","method","catch","code","then","response","ok","json","fetchRegistrationPage","username","firstName","lastName","headers","Headers","body","JSON","stringify","fetchLoginPage","console","log","fetchMeetupList","fetchMeetupForUser","meetupId","fetchLogout","fetchValidUsers","fetchDeleteRegistration","fetchCreateMeetupPage","title","host","place","date","time","agenda","members","meetup","fetchUpdateMeetup","id","fetchUpdateFeedback","isAttending","feedback","fetchRemoveCreatedMeetup","fetchRemoveInvitedMeetup","module","exports"],"mappings":"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","sourcesContent":["// const { findRenderedDOMComponentWithTag } = require(\"react-dom/test-utils\");\r\n// const { response } = require(\"express\");\r\n\r\n// const { json, response } = require(\"express\");\r\n\r\nconst convertErrorCodes = (err) => Promise.reject(err);\r\n\r\nconst fetchLoginPageStatus = () => {\r\n    return fetch('/session', {\r\n        method: 'GET'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n/*\r\nconst fetchLoginPage = (username) => {\r\n    console.log(\"fetch login\",username);\r\n    return fetch('/session', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify({ username })\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n}*/\r\n\r\nconst fetchRegistrationPage = (username, firstName, lastName) => {\r\n    return fetch('/registration', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify({ username, firstName, lastName }),\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\n\r\nconst fetchLoginPage = (username) => {\r\n    console.log(\"fetch new login\",username);\r\n    return fetch('/session', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n          'content-type': 'application/json',\r\n        }),\r\n        body: JSON.stringify( {username} ),\r\n      })\r\n      .catch( () => {\r\n        return Promise.reject({code: 'NETWORK_ERROR'});\r\n      })\r\n      .then( response => {\r\n        if(!response.ok) {\r\n          return response.json().then( convertErrorCodes );\r\n        }\r\n        return response.json();\r\n      });\r\n}\r\n\r\nconst fetchMeetupList = (username) => {\r\n    return fetch(`/meetups/${username}`, {\r\n        method: 'GET'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then(response => {\r\n        if(!response.ok) {\r\n            return response.json.then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\nconst fetchMeetupForUser = (meetupId) => {\r\n    return fetch(`/meetup/${meetupId}`, {\r\n        method: 'GET'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR' });\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\nconst fetchLogout = () => {\r\n\r\n    console.log(\"logout \");\r\n\r\n    return fetch('/session', {\r\n        method: 'DELETE',\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.ok;\r\n    });\r\n};\r\n  \r\nconst fetchValidUsers = () => {\r\n    return fetch('/users', {\r\n        method: 'GET'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR' });\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\n\r\nconst fetchDeleteRegistration = () => {\r\n    return fetch('/registration', {\r\n        method: 'DELETE'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.ok;\r\n    });\r\n};\r\n\r\nconst fetchCreateMeetupPage = (title, host, place, date, time, agenda, members) => {\r\n    const meetup = {\r\n        title: title,\r\n        agenda: agenda,\r\n        date: date,\r\n        time: time,\r\n        place: place,\r\n        host: host,\r\n        members: members\r\n    };\r\n    return fetch('/meetup', {\r\n    method: 'POST',\r\n    headers: new Headers({\r\n      'content-type': 'application/json',\r\n    }),\r\n      body: JSON.stringify(meetup),\r\n    })\r\n    .catch( () => {\r\n      return Promise.reject({code: 'NETWORK_ERROR'});\r\n    })\r\n    .then( (response) => {\r\n      if(!response.ok) {\r\n          return response.json().then( convertErrorCodes );\r\n      }\r\n      return response.json();\r\n    });\r\n  };\r\n\r\n\r\n  const fetchUpdateMeetup = (title, id , host, place, date, time, agenda, members) => {\r\n      \r\n    const meetup = {\r\n        title: title,\r\n        meetupId: id,\r\n        host: host,\r\n        place: place,\r\n        date: date,\r\n        time: time,\r\n        agenda: agenda,\r\n        members: members\r\n    };\r\n    console.log(meetup);\r\n\r\n    return fetch('/meetup', {\r\n        method: 'PUT',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify(meetup),\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\n\r\n/*\r\nconst fetchCreateMeetupPage = (title, agenda, date, time, place, host, members) => {\r\n    const meetup = {\r\n        title: title,\r\n        agenda: agenda,\r\n        date: date,\r\n        time: time,\r\n        place: place,\r\n        host: host,\r\n        members: members\r\n    };\r\n\r\n    console.log(\"fetch meetup\",meetup);\r\n    return fetch('/tanvi', {\r\n        method: 'POST',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify({meetup})\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n*/\r\n\r\n\r\n\r\n\r\n\r\nconst fetchUpdateFeedback = (username, isAttending, meetupId) => {\r\n    const feedback = {\r\n        username: username,\r\n        isAttending: isAttending,\r\n        meetupId: meetupId\r\n    };\r\n    return fetch('/response', {\r\n        method: 'PUT',\r\n        headers: new Headers({\r\n            'content-type': 'application/json'\r\n        }),\r\n        body: JSON.stringify(feedback)\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.json();\r\n    });\r\n};\r\n\r\nconst fetchRemoveCreatedMeetup = (meetupId) => {\r\n    return fetch(`/meetup/${meetupId}`, {\r\n        method: 'DELETE'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.ok;\r\n    });\r\n};\r\n\r\nconst fetchRemoveInvitedMeetup = (username, meetupId) => {\r\n    return fetch(`/${username}/meetup/${meetupId}`, {\r\n        method: 'DELETE'\r\n    })\r\n    .catch(() => {\r\n        return Promise.reject({ code: 'NETWORK_ERROR'});\r\n    })\r\n    .then((response) => {\r\n        if(!response.ok) {\r\n            return response.json().then(convertErrorCodes);\r\n        }\r\n        return response.ok;\r\n    });\r\n};\r\n\r\n\r\nmodule.exports = {\r\n    fetchLoginPageStatus,\r\n    fetchRegistrationPage,\r\n    fetchLoginPage,\r\n    fetchMeetupList,\r\n    fetchMeetupForUser,\r\n    fetchValidUsers,\r\n    fetchCreateMeetupPage,\r\n    fetchUpdateMeetup,\r\n    fetchUpdateFeedback,\r\n    fetchRemoveCreatedMeetup,\r\n    fetchRemoveInvitedMeetup,\r\n    fetchLogout,\r\n    fetchDeleteRegistration\r\n}"]},"metadata":{},"sourceType":"module"}