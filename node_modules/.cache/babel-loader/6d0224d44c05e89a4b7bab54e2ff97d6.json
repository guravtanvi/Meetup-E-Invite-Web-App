{"ast":null,"code":"import _objectSpread from\"D:\\\\Information System\\\\info6250\\\\student---guravtanvi\\\\project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\Information System\\\\info6250\\\\student---guravtanvi\\\\project\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Header from'./components/Header';import ErrorMessage from'./components/ErrorMessage';import UpdateMeetup from'./components/UpdateMeetup';import MeetupInfo from'./components/MeetupInfo';import NewMeetup from'./components/NewMeetup';import UserHome from'./components/UserHome';import LoginPage from'./components/LoginPage';import Registration from'./components/Registration';import{fetchLoginPageStatus,fetchMeetupList}from'./services/services';import'./App.css';function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setErrorState=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),meetup=_useState6[0],setMeetupState=_useState6[1];var _useState7=useState({isLoggedIn:false}),_useState8=_slicedToArray(_useState7,2),action=_useState8[0],setUserAction=_useState8[1];var _useState9=useState('loginPage'),_useState10=_slicedToArray(_useState9,2),page=_useState10[0],setPageState=_useState10[1];useEffect(function(){fetchLoginPageStatus().then(function(userDetails){fetchMeetupList(userDetails.username).then(function(meetups){setErrorState('');setUserAction({isLoggedIn:true,username:userDetails.username,createdMeetups:meetups.createdMeetups,invitedMeetups:meetups.invitedMeetups});setPageState('homePage');}).catch(function(error){setErrorState(error.code);});});},[]);var login=function login(username,createdMeetups,invitedMeetups,error){setErrorState(error);if(!error){setUserAction({isLoggedIn:true,username:username,createdMeetups:createdMeetups,invitedMeetups:invitedMeetups});setPageState('homePage');}};var registration=function registration(){setErrorState('');setUserAction(_objectSpread(_objectSpread({},action),{},{isLoggedIn:false}));setPageState('registrationPage');};var logoutPage=function logoutPage(error){setErrorState(error);setUserAction(_objectSpread(_objectSpread({},action),{},{isLoggedIn:false}));setPageState('loginPage');};var createMeetupPage=function createMeetupPage(validUsers,error){setErrorState(error);if(!error){setUsers(validUsers);setPageState('createMeetup');}};var meetupDetailsPage=function meetupDetailsPage(meetup,error){setErrorState(error);if(!error){setMeetupState(meetup);setPageState('meetupDetails');}};var loginPage=function loginPage(error){setErrorState(error);if(!error){setPageState('loginPage');}};var updateMeetups=function updateMeetups(createdMeetups,invitedMeetups,error){setErrorState(error);if(!error){setUserAction(_objectSpread(_objectSpread({},action),{},{createdMeetups:createdMeetups,invitedMeetups:invitedMeetups}));}};var homePage=function homePage(createdMeetups,invitedMeetups,error){setErrorState(error);if(!error){setUserAction(_objectSpread(_objectSpread({},action),{},{createdMeetups:createdMeetups,invitedMeetups:invitedMeetups}));setPageState('homePage');}};var getUpadteMeetupPage=function getUpadteMeetupPage(meetup,validUsers,error){setErrorState(error);if(!error){setMeetupState(meetup);setUsers(validUsers);setPageState('updateMeetupPage');}};var container;if(page==='registrationPage'){container=/*#__PURE__*/React.createElement(Registration,{isRegistered:loginPage});}else if(page==='loginPage'){container=/*#__PURE__*/React.createElement(LoginPage,{onLogin:login,isRegistered:registration});}else if(page==='homePage'){container=/*#__PURE__*/React.createElement(UserHome,{state:action,onCreate:createMeetupPage,onUpdate:updateMeetups,onLogout:logoutPage,onDetails:meetupDetailsPage,onMeetupUpdate:getUpadteMeetupPage});}else if(page==='createMeetup'){container=/*#__PURE__*/React.createElement(NewMeetup,{state:action,users:users,onDetails:meetupDetailsPage,onHome:homePage});}else if(page==='meetupDetails'){container=/*#__PURE__*/React.createElement(MeetupInfo,{state:action,meetup:meetup,onHome:homePage});}else if(page==='updateMeetupPage'){container=/*#__PURE__*/React.createElement(UpdateMeetup,{state:action,meetup:meetup,users:users,onHome:homePage,onDetails:meetupDetailsPage});}return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(Header,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"error-message\"},/*#__PURE__*/React.createElement(ErrorMessage,{error:error})),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},container),/*#__PURE__*/React.createElement(\"div\",{className:\"footer\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\xA9 seainfo6250\")));}export default App;","map":{"version":3,"sources":["D:/Information System/info6250/student---guravtanvi/project/src/App.jsx"],"names":["React","useEffect","useState","Header","ErrorMessage","UpdateMeetup","MeetupInfo","NewMeetup","UserHome","LoginPage","Registration","fetchLoginPageStatus","fetchMeetupList","App","error","setErrorState","users","setUsers","meetup","setMeetupState","isLoggedIn","action","setUserAction","page","setPageState","then","userDetails","username","meetups","createdMeetups","invitedMeetups","catch","code","login","registration","logoutPage","createMeetupPage","validUsers","meetupDetailsPage","loginPage","updateMeetups","homePage","getUpadteMeetupPage","container"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport Header from './components/Header';\nimport ErrorMessage from './components/ErrorMessage';\nimport UpdateMeetup from './components/UpdateMeetup';\nimport MeetupInfo from './components/MeetupInfo';\nimport NewMeetup from './components/NewMeetup';\nimport UserHome from './components/UserHome';\nimport LoginPage from './components/LoginPage';\nimport Registration from './components/Registration';\nimport {fetchLoginPageStatus, fetchMeetupList} from './services/services';\nimport './App.css';\n\nfunction App() {\n  const [error, setErrorState] = useState('');\n  const [users, setUsers] = useState({});\n  const [meetup, setMeetupState] = useState('');\n  const [action, setUserAction] = useState({ isLoggedIn: false});\n  const [page, setPageState] = useState('loginPage');\n  \n  useEffect(() => {\n    fetchLoginPageStatus()\n    .then(userDetails => {\n      fetchMeetupList(userDetails.username)\n      .then((meetups) =>{\n        setErrorState('');\n        setUserAction({\n          isLoggedIn: true,\n          username: userDetails.username,\n          createdMeetups: meetups.createdMeetups,\n          invitedMeetups: meetups.invitedMeetups\n        });\n        setPageState('homePage');\n      })\n      .catch((error) => {\n        setErrorState(error.code);\n      });\n    })\n  }, []);\n\n\n  const login = (username, createdMeetups, invitedMeetups, error) => {\n    setErrorState(error);\n    if(!error) {\n      setUserAction({\n        isLoggedIn: true,\n        username,\n        createdMeetups,\n        invitedMeetups\n      });\n      setPageState('homePage');\n    }\n  };\n\n  const registration = () => {\n    setErrorState('');\n    setUserAction({\n      ...action,\n      isLoggedIn: false\n    });\n    setPageState('registrationPage');\n  };\n\n  const logoutPage = (error) => {\n    setErrorState(error);\n    setUserAction({\n      ...action,\n      isLoggedIn: false\n    });\n    setPageState('loginPage');\n  };\n\n  const createMeetupPage = (validUsers, error) => {\n    setErrorState(error);\n    if(!error) {\n      setUsers(validUsers);\n      setPageState('createMeetup');\n    }\n  }\n\n  const meetupDetailsPage = (meetup, error) => {\n    setErrorState(error);\n    if(!error) {\n      setMeetupState(meetup);\n      setPageState('meetupDetails');\n    }\n  }\n\n  const loginPage = (error) => {\n    setErrorState(error);\n    if(!error) {\n      setPageState('loginPage');\n    }\n  }\n\n  const updateMeetups = (createdMeetups, invitedMeetups, error) => {\n    setErrorState(error);\n    if(!error) {\n      \n      setUserAction({\n        ...action,\n        createdMeetups: createdMeetups,\n        invitedMeetups: invitedMeetups\n      });\n    }\n  };\n\n  const homePage = (createdMeetups, invitedMeetups, error) => {\n    setErrorState(error);\n    if(!error) {\n      setUserAction({\n        ...action,\n        createdMeetups,\n        invitedMeetups\n      });\n      setPageState('homePage');\n    }\n  };\n\n  const getUpadteMeetupPage = (meetup, validUsers, error) => {\n    setErrorState(error);\n    if(!error) {\n      setMeetupState(meetup);\n      setUsers(validUsers);\n      setPageState('updateMeetupPage');\n    }\n  }\n\n  let container;\n\n  if(page === 'registrationPage') {\n    container = <Registration isRegistered={loginPage}/>;\n  }\n  else if(page === 'loginPage') {\n    container = <LoginPage onLogin={login} isRegistered={registration}/>;\n  }\n  else if(page === 'homePage') {\n    container = <UserHome \n                state={action}\n                onCreate={createMeetupPage}\n                onUpdate={updateMeetups}\n                onLogout={logoutPage}\n                onDetails={meetupDetailsPage}\n                onMeetupUpdate={getUpadteMeetupPage} />          \n  }\n  else if(page === 'createMeetup') {\n    container = <NewMeetup state={action} users={users} onDetails={meetupDetailsPage} onHome={homePage}/>\n  }\n  else if(page === 'meetupDetails') {\n    container = <MeetupInfo state={action} meetup={meetup} onHome={homePage}/>\n  }\n  else if(page === 'updateMeetupPage') {\n    container = <UpdateMeetup state={action} meetup={meetup} users={users} onHome={homePage} onDetails={meetupDetailsPage}/>\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"header\">\n        <Header/>\n      </div>\n\n      <div className=\"error-message\">\n        <ErrorMessage error={error}/>\n      </div>\n\n      <div className=\"container\">\n        {container}\n      </div>\n\n      <div className=\"footer\">\n        <span>© seainfo6250</span>  \n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}