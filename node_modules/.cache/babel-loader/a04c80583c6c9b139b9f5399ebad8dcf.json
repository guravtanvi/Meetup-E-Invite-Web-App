{"ast":null,"code":"var _jsxFileName = \"D:\\\\Information System\\\\info6250\\\\project\\\\meetup-app\\\\src\\\\components\\\\InvitedMeetup.jsx\";\nimport React, { useState } from 'react';\nimport { fetchMeetupForUser, fetchUpdateFeedback, fetchRemoveInvitedMeetup, fetchMeetupList } from '../services/services'; //import meetup from '../../server/meetup';\n\nconst InvitedMeetup = ({\n  state,\n  details,\n  update\n}) => {\n  const [feedback, setFeedbackState] = useState('');\n  console.log(state.invitedMeetups);\n\n  const feedbackAction = (e, meetupId) => {\n    e.preventDefault();\n\n    if (!feedback) {\n      update([], [], 'Please Select a Feedback!');\n    }\n\n    if (feedback) {\n      fetchMeetupForUser(meetupId).then(() => {\n        fetchUpdateFeedback(state.username, feedback, meetupId).then(meetup => {\n          setFeedbackState('');\n          update(meetup.createdMeetups, meetup.invitedMeetups, '');\n        }).catch(error => {\n          setFeedbackState('');\n          update([], [], error.code);\n        });\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }\n  };\n\n  const meetupDetails = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(meetup => {\n      details(meetup, '');\n    }).catch(err => {\n      details({}, err.code);\n    });\n  };\n\n  const implementRemoveMeetup = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(() => {\n      fetchRemoveInvitedMeetup(state.username, meetupId).then(() => {\n        fetchMeetupList(state.username).then(meetup => {\n          update(meetup.createdMeetups, meetup.invitedMeetups, '');\n        }).catch(error => {\n          update([], [], error.code);\n        });\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }).catch(error => {\n      update([], [], error.code);\n    });\n  };\n\n  const implementUpdateFeedback = (e, meetupId) => {\n    e.preventDefault();\n    fetchMeetupForUser(meetupId).then(() => {\n      fetchMeetupList(state.username).then(meetup => {\n        Object.values(meetup.invitedMeetups).filter(meet => meet.meet.meetupId === meetupId).map(meet => meet.isGoing = '');\n        update(meetup.createdMeetups, meetup.invitedMeetups, '');\n      }).catch(error => {\n        update([], [], error.code);\n      });\n    }).catch(error => {\n      update([], [], error.code);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"invited-meetup-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meetup-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"My Invited Meetups\")), state.invitedMeetups.length === 0 ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"empty-meetups\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"You have no invited meetups yet!!\") : /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"meetups\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, Object.values(state.invitedMeetups).map((invited, key) => /*#__PURE__*/React.createElement(\"li\", {\n    key: key,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"meetup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://meetup1.com\",\n    title: \"Click for Meetup Details\",\n    onClick: e => meetupDetails(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 37\n    }\n  }, invited.meetup.title)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-host\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 33\n    }\n  }, \"Host:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 37\n    }\n  }, invited.meetup.host)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-place\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 33\n    }\n  }, \"Place:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 37\n    }\n  }, invited.meetup.place)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, \"Date:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 37\n    }\n  }, invited.meetup.date)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"li-meetup-time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 33\n    }\n  }, \"Time:\", ' ', /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 37\n    }\n  }, invited.meetup.time)), invited.isGoing === '' ? /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feedback-btn\",\n    onChange: e => setFeedbackState(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"feedback-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 37\n    }\n  }, \"Attending:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"Yes\",\n    name: \"feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 37\n    }\n  }), \" Yes\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"radio\",\n    value: \"No\",\n    name: \"feedback\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 37\n    }\n  }), \" No\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"feedback-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"submit-feedback-button\",\n    onClick: e => feedbackAction(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 37\n    }\n  }, \"Send Feedback\"))) : /*#__PURE__*/React.createElement(\"span\", {\n    className: \"responded-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"responded-message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 37\n    }\n  }, \"-- Attending Event: \", invited.isGoing, \" --\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"update-feedback-button\",\n    onClick: e => implementUpdateFeedback(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 37\n    }\n  }, \"Update Feedback\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"delete-event\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-event-button\",\n    onClick: e => implementRemoveMeetup(e, invited.meetup.meetupId),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 37\n    }\n  }, \"Delete Meetup\")))))));\n};\n\nexport default InvitedMeetup;","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/components/InvitedMeetup.jsx"],"names":["React","useState","fetchMeetupForUser","fetchUpdateFeedback","fetchRemoveInvitedMeetup","fetchMeetupList","InvitedMeetup","state","details","update","feedback","setFeedbackState","console","log","invitedMeetups","feedbackAction","e","meetupId","preventDefault","then","username","meetup","createdMeetups","catch","error","code","meetupDetails","err","implementRemoveMeetup","implementUpdateFeedback","Object","values","filter","meet","map","isGoing","length","invited","key","title","host","place","date","time","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { fetchMeetupForUser, fetchUpdateFeedback, fetchRemoveInvitedMeetup, fetchMeetupList } from '../services/services';\r\n//import meetup from '../../server/meetup';\r\n\r\nconst InvitedMeetup = ({state, details, update}) => {\r\n\r\n    const [feedback, setFeedbackState] = useState('');\r\n    console.log(state.invitedMeetups);\r\n\r\n    \r\n    const feedbackAction = (e, meetupId) => {\r\n        e.preventDefault();\r\n\r\n        if(!feedback) {\r\n            update([], [], 'Please Select a Feedback!');\r\n        }\r\n        if(feedback) {\r\n            fetchMeetupForUser(meetupId)\r\n            .then(() => {\r\n                fetchUpdateFeedback(state.username, feedback, meetupId)\r\n                .then((meetup) => {\r\n                    setFeedbackState('');\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n                })\r\n                .catch((error) => {\r\n                    setFeedbackState('');\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        }\r\n    };\r\n    \r\n    const meetupDetails = (e, meetupId) => {\r\n\r\n        e.preventDefault();\r\n\t\tfetchMeetupForUser(meetupId)\r\n\t\t.then((meetup) => {\r\n\t\t\tdetails(meetup, '');\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tdetails({}, err.code);\r\n\t\t});\r\n    };\r\n    \r\n    const implementRemoveMeetup = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchRemoveInvitedMeetup(state.username, meetupId)\r\n            .then(() => {\r\n                fetchMeetupList(state.username)\r\n                .then((meetup) => {\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups,'');\r\n                })\r\n                .catch((error) => {\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    const implementUpdateFeedback = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchMeetupList(state.username)\r\n            .then((meetup) => {\r\n                Object.values(meetup.invitedMeetups)\r\n                .filter(meet => meet.meet.meetupId === meetupId)\r\n                .map( (meet) => (meet.isGoing = ''));\r\n                update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"invited-meetup-container\">\r\n            <div className=\"meetup-heading\">\r\n                <p>My Invited Meetups</p>\r\n            </div>\r\n\r\n            {(state.invitedMeetups.length === 0) ?\r\n                <p className=\"empty-meetups\">You have no invited meetups yet!!</p> :\r\n                <ul className=\"meetups\">\r\n                    {Object.values(state.invitedMeetups).map( (invited,key) => (\r\n                        <li key={key}>\r\n                            <div className=\"meetup\">\r\n\r\n                                <div>\r\n                                    <a href=\"https://meetup1.com\" \r\n                                    title=\"Click for Meetup Details\" \r\n                                    onClick={(e) => meetupDetails(e, invited.meetup.meetupId)}>{invited.meetup.title}\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-host\">\r\n                                    Host:{' '}\r\n                                    <span>{invited.meetup.host}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-place\">\r\n                                    Place:{' '}\r\n                                    <span>{invited.meetup.place}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-date\">\r\n                                    Date:{' '}\r\n                                    <span>{invited.meetup.date}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-time\">\r\n                                    Time:{' '}\r\n                                    <span>{invited.meetup.time}</span>\r\n                                </div>\r\n\r\n                                {(invited.isGoing === '') ?\r\n\r\n                                <span>\r\n                                <div className=\"feedback-btn\" onChange={e => setFeedbackState(e.target.value)}>\r\n                                    <p className=\"feedback-header\">Attending:</p>\r\n                                    <input type=\"radio\" value=\"Yes\" name=\"feedback\"/> Yes\r\n                                    <input type=\"radio\" value=\"No\" name=\"feedback\"/> No\r\n                                </div>\r\n\r\n                                <div className=\"feedback-button\">\r\n                                    <button className=\"submit-feedback-button\" onClick={e => feedbackAction(e, invited.meetup.meetupId) }>Send Feedback</button>\r\n                                </div>\r\n                                </span>:\r\n\r\n                                <span className=\"responded-block\">\r\n                                    <p className=\"responded-message\">-- Attending Event: {invited.isGoing} --</p>\r\n                                    <button className=\"update-feedback-button\" onClick={e => implementUpdateFeedback(e, invited.meetup.meetupId)}>Update Feedback</button>\r\n                                </span>}\r\n\r\n                                <div className=\"delete-event\">\r\n                                    <button className=\"delete-event-button\" onClick={e => implementRemoveMeetup(e, invited.meetup.meetupId)}>Delete Meetup</button>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default InvitedMeetup;"]},"metadata":{},"sourceType":"module"}