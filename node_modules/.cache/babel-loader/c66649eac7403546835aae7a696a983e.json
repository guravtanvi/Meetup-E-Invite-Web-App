{"ast":null,"code":"import _slicedToArray from\"D:\\\\Information System\\\\info6250\\\\project\\\\meetup-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{fetchMeetupForUser,fetchUpdateFeedback,fetchRemoveInvitedMeetup,fetchMeetupList}from'../services/services';var InvitedMeetup=function InvitedMeetup(_ref){var state=_ref.state,details=_ref.details,update=_ref.update;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),feedback=_useState2[0],setFeedbackState=_useState2[1];var feedbackAction=function feedbackAction(e,meetupId){e.preventDefault();if(!feedback){update([],[],'Please Select a Feedback!');}if(feedback){fetchMeetupForUser(meetupId).then(function(){fetchUpdateFeedback(state.username,feedback,meetupId).then(function(meetup){setFeedbackState('');update(meetup.createdMeetups,meetup.invitedMeetups,'');}).catch(function(error){setFeedbackState('');update([],[],error.code);});}).catch(function(error){update([],[],error.code);});}};var meetupDetails=function meetupDetails(e,meetupId){e.preventDefault();fetchMeetupForUser(meetupId).then(function(meetup){details(meetup,'');}).catch(function(err){details({},err.code);});};var implementRemoveMeetup=function implementRemoveMeetup(e,meetupId){e.preventDefault();fetchMeetupForUser(meetupId).then(function(){fetchRemoveInvitedMeetup(state.username,meetupId).then(function(){fetchMeetupList(state.username).then(function(meetup){update(meetup.createdMeetups,meetup.invitedMeetups,'');}).catch(function(error){update([],[],error.code);});}).catch(function(error){update([],[],error.code);});}).catch(function(error){update([],[],error.code);});};var implementUpdateFeedback=function implementUpdateFeedback(e,meetupId){e.preventDefault();fetchMeetupForUser(meetupId).then(function(){fetchMeetupList(state.username).then(function(meetup){Object.values(meetup.invitedMeetups).filter(function(meet){return meet.meet.meetupId===meetupId;}).map(function(meet){return meet.isGoing='';});update(meetup.createdMeetups,meetup.invitedMeetups,'');}).catch(function(error){update([],[],error.code);});}).catch(function(error){update([],[],error.code);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"invited-meetup-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"meetup-heading\"},/*#__PURE__*/React.createElement(\"p\",null,\"My Invited Meetups\")),state.invitedMeetups.length===0?/*#__PURE__*/React.createElement(\"p\",{className:\"empty-meetups\"},\"You have no invited meetups yet!!\"):/*#__PURE__*/React.createElement(\"ul\",{className:\"meetups\"},Object.values(state.invitedMeetups).map(function(invited,key){return/*#__PURE__*/React.createElement(\"li\",{key:key},/*#__PURE__*/React.createElement(\"div\",{className:\"meetup\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"a\",{href:\"https://meetup1.com\",title:\"Click for Meetup Details\",onClick:function onClick(e){return meetupDetails(e,invited.meetup.meetupId);}},invited.meetup.title)),/*#__PURE__*/React.createElement(\"div\",{className:\"li-meetup-host\"},\"Host:\",' ',/*#__PURE__*/React.createElement(\"span\",null,invited.meetup.host)),/*#__PURE__*/React.createElement(\"div\",{className:\"li-meetup-place\"},\"Place:\",' ',/*#__PURE__*/React.createElement(\"span\",null,invited.meetup.place)),/*#__PURE__*/React.createElement(\"div\",{className:\"li-meetup-date\"},\"Date:\",' ',/*#__PURE__*/React.createElement(\"span\",null,invited.meetup.date)),/*#__PURE__*/React.createElement(\"div\",{className:\"li-meetup-time\"},\"Time:\",' ',/*#__PURE__*/React.createElement(\"span\",null,invited.meetup.time)),invited.isGoing===''?/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-btn\",onChange:function onChange(e){return setFeedbackState(e.target.value);}},/*#__PURE__*/React.createElement(\"p\",{className:\"feedback-header\"},\"Attending:\"),/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"Yes\",name:\"feedback\"}),\" Yes\",/*#__PURE__*/React.createElement(\"input\",{type:\"radio\",value:\"No\",name:\"feedback\"}),\" No\"),/*#__PURE__*/React.createElement(\"div\",{className:\"feedback-button\"},/*#__PURE__*/React.createElement(\"button\",{className:\"submit-feedback-button\",onClick:function onClick(e){return feedbackAction(e,invited.meetup.meetupId);}},\"Send Feedback\"))):/*#__PURE__*/React.createElement(\"span\",{className:\"responded-block\"},/*#__PURE__*/React.createElement(\"p\",{className:\"responded-message\"},\"-- Attending Event: \",invited.meetup.isGoing,\" --\"),/*#__PURE__*/React.createElement(\"button\",{className:\"update-feedback-button\",onClick:function onClick(e){return implementUpdateFeedback(e,invited.meetup.meetupId);}},\"Update Feedback\"))));})));};export default InvitedMeetup;","map":{"version":3,"sources":["D:/Information System/info6250/project/meetup-app/src/components/InvitedMeetup.jsx"],"names":["React","useState","fetchMeetupForUser","fetchUpdateFeedback","fetchRemoveInvitedMeetup","fetchMeetupList","InvitedMeetup","state","details","update","feedback","setFeedbackState","feedbackAction","e","meetupId","preventDefault","then","username","meetup","createdMeetups","invitedMeetups","catch","error","code","meetupDetails","err","implementRemoveMeetup","implementUpdateFeedback","Object","values","filter","meet","map","isGoing","length","invited","key","title","host","place","date","time","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { fetchMeetupForUser, fetchUpdateFeedback, fetchRemoveInvitedMeetup, fetchMeetupList } from '../services/services';\r\n\r\n\r\nconst InvitedMeetup = ({state, details, update}) => {\r\n\r\n    const [feedback, setFeedbackState] = useState('');\r\n\r\n\r\n\r\n\r\n\r\n    const feedbackAction = (e, meetupId) => {\r\n        e.preventDefault();\r\n        \r\n        if(!feedback) {\r\n            update([], [], 'Please Select a Feedback!');\r\n        }\r\n        if(feedback) {\r\n            fetchMeetupForUser(meetupId)\r\n            .then(() => {\r\n                fetchUpdateFeedback(state.username, feedback, meetupId)\r\n                .then((meetup) => {\r\n                    setFeedbackState('');\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n                })\r\n                .catch((error) => {\r\n                    setFeedbackState('');\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        }\r\n    };\r\n    \r\n    const meetupDetails = (e, meetupId) => {\r\n\r\n        e.preventDefault();\r\n\t\tfetchMeetupForUser(meetupId)\r\n\t\t.then((meetup) => {\r\n\t\t\tdetails(meetup, '');\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tdetails({}, err.code);\r\n\t\t});\r\n    };\r\n    \r\n    const implementRemoveMeetup = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchRemoveInvitedMeetup(state.username, meetupId)\r\n            .then(() => {\r\n                fetchMeetupList(state.username)\r\n                .then((meetup) => {\r\n                    update(meetup.createdMeetups, meetup.invitedMeetups,'');\r\n                })\r\n                .catch((error) => {\r\n                    update([], [], error.code);\r\n                });\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    const implementUpdateFeedback = (e, meetupId) => {\r\n        e.preventDefault();\r\n        fetchMeetupForUser(meetupId)\r\n        .then (() => {\r\n            fetchMeetupList(state.username)\r\n            .then((meetup) => {\r\n                Object.values(meetup.invitedMeetups)\r\n                .filter(meet => meet.meet.meetupId === meetupId)\r\n                .map((meet) => (meet.isGoing = ''));\r\n                update(meetup.createdMeetups, meetup.invitedMeetups, '');\r\n            })\r\n            .catch((error) => {\r\n                update([], [], error.code);\r\n            });\r\n        })\r\n        .catch ((error) => {\r\n            update([], [], error.code);\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"invited-meetup-container\">\r\n            <div className=\"meetup-heading\">\r\n                <p>My Invited Meetups</p>\r\n            </div>\r\n            \r\n            {(state.invitedMeetups.length === 0) ?\r\n                <p className=\"empty-meetups\">You have no invited meetups yet!!</p> :\r\n                <ul className=\"meetups\">\r\n                    {Object.values(state.invitedMeetups).map( (invited,key) => (\r\n                         \r\n                        <li key={key}>\r\n                            <div className=\"meetup\">\r\n                                \r\n                                <div>\r\n                                    <a href=\"https://meetup1.com\" \r\n                                    title=\"Click for Meetup Details\" \r\n                                    onClick={(e) => meetupDetails(e, invited.meetup.meetupId)}>{invited.meetup.title}\r\n                                    </a>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-host\">\r\n                                    Host:{' '}\r\n                                    <span>{invited.meetup.host}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-place\">\r\n                                    Place:{' '}\r\n                                    <span>{invited.meetup.place}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-date\">\r\n                                    Date:{' '}\r\n                                    <span>{invited.meetup.date}</span>\r\n                                </div>\r\n\r\n                                <div className=\"li-meetup-time\">\r\n                                    Time:{' '}\r\n                                    <span>{invited.meetup.time}</span>\r\n                                </div>\r\n                                \r\n                                {(invited.isGoing === '') ?\r\n                                <span>\r\n                                <div className=\"feedback-btn\" onChange={e => setFeedbackState(e.target.value)}>\r\n                                    <p className=\"feedback-header\">Attending:</p>\r\n                                    <input type=\"radio\" value=\"Yes\" name=\"feedback\"/> Yes\r\n                                    <input type=\"radio\" value=\"No\" name=\"feedback\"/> No\r\n                                </div>\r\n                                <div className=\"feedback-button\">\r\n                                    <button className=\"submit-feedback-button\" onClick={e => feedbackAction(e, invited.meetup.meetupId) }>Send Feedback</button>\r\n                                </div>\r\n                                </span>:\r\n                                <span className=\"responded-block\">\r\n                                    <p className=\"responded-message\">-- Attending Event: {invited.meetup.isGoing} --</p>\r\n                                    <button className=\"update-feedback-button\" onClick={e => implementUpdateFeedback(e, invited.meetup.meetupId)}>Update Feedback</button>\r\n                                </span>}\r\n\r\n                            </div>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            }\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default InvitedMeetup;"]},"metadata":{},"sourceType":"module"}